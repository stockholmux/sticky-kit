/*
 Sticky-kit v1.0.1 | WTFPL | Leaf Corcoran 2013 | http://leafo.net
*/
(function(){var g,t;g=this.jQuery;t=g(window);g.fn.stick_in_parent=function(e){var v,k,u,q,B,h,C;null==e&&(e={});q=e.sticky_class;v=e.inner_scrolling;u=e.parent;k=e.offset_top;null==k&&(k=0);null==u&&(u=void 0);null==v&&(v=!0);null==q&&(q="is_stuck");B=function(a,e,h,w,z,l){var r,s,m,x,b,f,y,A,n,d;f=a.parent();null!=u&&(f=f.closest(u));if(!f.length)throw"failed to find stick parent";y=function(){var c,b;c=parseInt(f.css("border-top-width"),10);b=parseInt(f.css("padding-top"),10);e=parseInt(f.css("padding-bottom"),
10);h=f.offset().top+c+b;w=f.height();c=a.is(".is_stuck")?n:a;z=c.offset().top-parseInt(c.css("margin-top"),10)-k;return l=c.outerHeight(!0)};y();if(l!==w)return m=a.css("float"),n=g("<div />").css({width:a.outerWidth(!0),height:l,display:a.css("display"),"vertical-align":a.css("vertical-align"),float:m}),r=s=!1,x=void 0,b=k,A=!1,d=function(){var c,g,p,d;p=t.scrollTop();null!=x&&(g=p-x);x=p;s?(d=p+l+b>w+h,r&&!d&&(r=!1,a.css({position:"fixed",bottom:"",top:b}).trigger("sticky_kit:unbottom")),p<z&&
(s=!1,b=k,"left"!==m&&"right"!==m||a.insertAfter(n),n.detach(),c={position:"",top:""},A&&(c.width=""),a.css(c).removeClass(q).trigger("sticky_kit:unstick")),v&&(c=t.height(),l>c&&!r&&(b-=g,b=Math.max(c-l,b),b=Math.min(k,b),s&&a.css({top:b+"px"})))):p>z&&(s=!0,c={position:"fixed",top:b},"none"===m&&"block"===a.css("display")&&(c.width=a.width()+"px",A=!0),a.css(c).addClass(q).after(n),"left"!==m&&"right"!==m||n.append(a),a.trigger("sticky_kit:stick"));if(s&&(null==d&&(d=p+l+b>w+h),!r&&d))return r=
!0,"static"===f.css("position")&&f.css({position:"relative"}),a.css({position:"absolute",bottom:e,top:""}).trigger("sticky_kit:bottom")},a.data("stickyKit",{tick:d,recalc:y,destroy:function(){t.off("scroll",d);a.css({position:"static",bottom:"",top:"",width:"auto"}).removeClass(q);return n.detach()}}),t.on("scroll",d),setTimeout(d,0),g(document.body).on("sticky_kit:recalc",function(){y();return d()})};h=0;for(C=this.length;h<C;h++)e=this[h],B(g(e));return this}}).call(this);
